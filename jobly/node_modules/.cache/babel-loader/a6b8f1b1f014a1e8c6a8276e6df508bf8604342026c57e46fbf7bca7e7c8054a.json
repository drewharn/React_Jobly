{"ast":null,"code":"import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import Alert from\"../common/Alert\";/** Login form.\n * \n * Shows form and manages update to state on changes.\n * On submission:\n * - calls login function prop\n * - redirects to /companies route\n * \n * Routes -> LoginForm -> Alert\n * Routed as /login\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoginForm(_ref){let{login}=_ref;const history=useHistory();const[formData,setFormData]=useState({username:\"\",password:\"\"});const[formErrors,setFormErrors]=useState([]);console.debug(\"LoginForm\",\"login=\",typeof login,\"formData=\",formData,\"formErrors\",formErrors);/** Handle form submit:\n     * \n     * Calls login func prop and, if successful, redirect to /companies.\n     */async function handleSubmit(evt){evt.preventDefault();let result=await login(formData);if(result.success){history.push(\"/companies\");}else{setFormErrors(result.errors);}}/** Update form data field */function handleChange(evt){const{name,value}=evt.target;setFormData(l=>({...l,[name]:value}));}return/*#__PURE__*/_jsx(\"div\",{className:\"LoginForm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-3\",children:\"Log In\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",className:\"form-control\",value:formData.username,onChange:handleChange,autoComplete:\"username\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",value:formData.password,onChange:handleChange,autoComplete:\"current-password\",required:true})]}),formErrors.length?/*#__PURE__*/_jsx(Alert,{type:\"danger\",messages:formErrors}):null,/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary float-right\",onSubmit:handleSubmit,children:\"Submit\"})]})})})]})});}export default LoginForm;","map":{"version":3,"names":["React","useState","useHistory","Alert","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","login","history","formData","setFormData","username","password","formErrors","setFormErrors","console","debug","handleSubmit","evt","preventDefault","result","success","push","errors","handleChange","name","value","target","l","className","children","onSubmit","onChange","autoComplete","required","type","length","messages"],"sources":["/Users/drewharnedy/Documents/USFCodingBootcamp/React-Jobly/react-jobly/jobly/src/auth/LoginForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\n\n/** Login form.\n * \n * Shows form and manages update to state on changes.\n * On submission:\n * - calls login function prop\n * - redirects to /companies route\n * \n * Routes -> LoginForm -> Alert\n * Routed as /login\n */\n\nfunction LoginForm({ login }) {\n    const history = useHistory();\n    const [formData, setFormData] = useState({\n        username: \"\",\n        password: \"\",\n    });\n    const [formErrors, setFormErrors] = useState([]);\n\n    console.debug(\n        \"LoginForm\",\n        \"login=\", typeof login,\n        \"formData=\", formData,\n        \"formErrors\", formErrors,\n    );\n\n    /** Handle form submit:\n     * \n     * Calls login func prop and, if successful, redirect to /companies.\n     */\n\n    async function handleSubmit(evt) {\n        evt.preventDefault();\n        let result = await login(formData);\n        if (result.success) {\n            history.push(\"/companies\");\n        } else {\n            setFormErrors(result.errors);\n        }\n    }\n\n    /** Update form data field */\n    function handleChange(evt) {\n        const { name, value } = evt.target;\n        setFormData(l => ({ ...l, [name]: value }));\n    }\n\n    return (\n        <div className=\"LoginForm\">\n            <div className=\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\n                <h3 className=\"mb-3\">Log In</h3>\n\n                <div className=\"card\">\n                    <div className=\"card-body\">\n                        <form onSubmit={handleSubmit}>\n                            <div className=\"form-group\">\n                                <label>Username</label>\n                                <input\n                                    name=\"username\"\n                                    className=\"form-control\"\n                                    value={formData.username}\n                                    onChange={handleChange}\n                                    autoComplete=\"username\"\n                                    required\n                                />\n                            </div>\n                            <div className=\"form-group\">\n                                <label>Password</label>\n                                <input\n                                    type=\"password\"\n                                    name=\"password\"\n                                    className=\"form-control\"\n                                    value={formData.password}\n                                    onChange={handleChange}\n                                    autoComplete=\"current-password\"\n                                    required\n                                />\n                            </div>\n\n                            {formErrors.length\n                                ? <Alert type=\"danger\" messages={formErrors} />\n                                : null}\n\n                            <button\n                                className=\"btn btn-primary float-right\"\n                                onSubmit={handleSubmit}\n                            >\n                             Submit\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default LoginForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}