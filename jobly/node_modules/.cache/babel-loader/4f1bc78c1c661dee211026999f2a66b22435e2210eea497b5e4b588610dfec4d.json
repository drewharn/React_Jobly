{"ast":null,"code":"import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import Alert from\"../common/Alert\";/** Signup form.\n * \n * Shows form and manages update to state on changes.\n * On submission:\n * - calls signup function prop\n * - redirects to /companies route\n * \n * Routes -> SignupForm -> Alert\n * Routed as /signup \n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SignupForm(_ref){let{signup}=_ref;const history=useHistory();const[formData,setFormData]=useState({username:\"\",password:\"\",firstName:\"\",lastName:\"\",email:\"\"});const[formErrors,setFormErrors]=useState([]);console.debug(\"SignupForm\",\"signup=\",typeof signup,\"formData=\",formData,\"formErrors=\",formErrors);/** Handle form submit:\n     * \n     * Calls login func prop and, if successful, redirect to /companies.\n     */async function handleSubmit(evt){evt.preventDefault();let result=await signup(formData);if(result.success){history.push(\"/companies\");}else{setFormErrors(result.errors);}}/** Update form data field */function handleChange(evt){const{name,value}=evt.target;setFormData(data=>({...data,[name]:value}));}return/*#__PURE__*/_jsx(\"div\",{className:\"SignupForm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",className:\"form-control\",value:formData.username,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",value:formData.password,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"First name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",className:\"form-control\",value:formData.firstName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"lastName\",className:\"form-control\",value:formData.lastName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",value:formData.email,onChange:handleChange})]}),formErrors.length?/*#__PURE__*/_jsx(Alert,{type:\"danger\",messages:formErrors}):null,/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary float-right\",children:\"Submit\"})]})})]})});}export default SignupForm;","map":{"version":3,"names":["React","useState","useHistory","Alert","jsx","_jsx","jsxs","_jsxs","SignupForm","_ref","signup","history","formData","setFormData","username","password","firstName","lastName","email","formErrors","setFormErrors","console","debug","handleSubmit","evt","preventDefault","result","success","push","errors","handleChange","name","value","target","data","className","children","onSubmit","onChange","type","length","messages"],"sources":["/Users/drewharnedy/Documents/USFCodingBootcamp/React-Jobly/react-jobly/jobly/src/auth/SignupForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\n\n/** Signup form.\n * \n * Shows form and manages update to state on changes.\n * On submission:\n * - calls signup function prop\n * - redirects to /companies route\n * \n * Routes -> SignupForm -> Alert\n * Routed as /signup \n */\n\nfunction SignupForm({ signup }) {\n    const history = useHistory();\n    const [formData, setFormData] = useState({\n        username: \"\",\n        password: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n    });\n    const [formErrors, setFormErrors] = useState([]);\n\n    console.debug(\n        \"SignupForm\",\n        \"signup=\", typeof signup,\n        \"formData=\", formData,\n        \"formErrors=\", formErrors,\n    );\n\n    /** Handle form submit:\n     * \n     * Calls login func prop and, if successful, redirect to /companies.\n     */\n\n    async function handleSubmit(evt) {\n        evt.preventDefault();\n        let result = await signup(formData);\n        if (result.success) {\n            history.push(\"/companies\");\n        } else {\n            setFormErrors(result.errors);\n        }\n    }\n\n    /** Update form data field */\n    function handleChange(evt) {\n        const { name, value } = evt.target;\n        setFormData(data => ({ ...data, [name]: value }));\n    }\n\n    return (\n        <div className=\"SignupForm\">\n            <div className=\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\n                <h2 className=\"mb-3\">Sign Up</h2>\n                <div className=\"card\">\n                    <form onSubmit={handleSubmit}>\n                        <div className=\"form-group\">\n                            <label>Username</label>\n                            <input\n                                name=\"username\"\n                                className=\"form-control\"\n                                value={formData.username}\n                                onChange={handleChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Password</label>\n                            <input\n                                type=\"password\"\n                                name=\"password\"\n                                className=\"form-control\"\n                                value={formData.password}\n                                onChange={handleChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>First name</label>\n                            <input\n                                type=\"text\"\n                                name=\"firstName\"\n                                className=\"form-control\"\n                                value={formData.firstName}\n                                onChange={handleChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Last name</label>\n                            <input\n                                name=\"lastName\"\n                                className=\"form-control\"\n                                value={formData.lastName}\n                                onChange={handleChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Email</label>\n                            <input\n                                type=\"email\"\n                                name=\"email\"\n                                className=\"form-control\"\n                                value={formData.email}\n                                onChange={handleChange}\n                            />\n                        </div>\n\n                        {formErrors.length\n                            ? <Alert type=\"danger\" messages={formErrors} />\n                            : null\n                        }\n\n                        <button\n                            type=\"submit\"\n                            className=\"btn btn-primary float-right\"\n                        >\n                          Submit\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </div>\n\n    );\n}\n\nexport default SignupForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}